<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
<title>Documentation Portal</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'oxford2/style.css' %}">
<style>
ul, #myUL {
  list-style-type: none;
}

ul.main-content li {
  list-style-type: disc;
}

#myUL {
  margin: 0;
  padding: 0;
}

.caret {
  cursor: pointer;
  -webkit-user-select: none; /* Safari 3.1+ */
  -moz-user-select: none; /* Firefox 2+ */
  -ms-user-select: none; /* IE 10+ */
  user-select: none;
}

.caret::before {
  content: "\25B6";
  color: rgb(33,150,243);
  display: inline-block;
  margin-right: 6px;
}

.caret-down::before {
  -ms-transform: rotate(90deg); /* IE 9 */
  -webkit-transform: rotate(90deg); /* Safari */'
  transform: rotate(90deg);  
}

.nested {
  display: none;
}

.active {
  display: block;
}

.headerlink {
  display: none;
}

h1:hover .headerlink {
  display: inline;
  color: lightblue;
}

h2:hover .headerlink {
  display: inline;
  color: lightblue;
}

/* Style the search box inside the navigation bar */
.searchbar input[type=text] {
  float: right;
  padding: 0px;
  width: 300px;
  border: 0px;
  margin-top: 6px;
  margin-right: 10px;
  font-size: 17px;
}

.searchbar img {
  float: right;
  height: 25px;
  margin-top: 6px;
}

.search-no-result {
  position: absolute;
  top: 13%;
  left: 74%;
  color: white;
  width: 25%;
  padding: 10px;
  background-color: gray;
}

.search-results {
  position: absolute;
  top: 13%;
  left: 75%;
  right: 100%;
  color: white;
  width: 25%;
  background-color: rgb(64,64,64); 
  border-style: none;
}

.search-result {
  display: block;
  padding: 0.25rem 0.75rem;
}

.search-result-rel-url {
  color: blue;
}

.search-result-rel-url.a {
  text-decoration: none;
}

.search-result-doc-title {
  font-size: 20px;
  font-weight: bold;
}

.search-result-preview {
  position: relative;
  left: 5%;
}

.search-results-list-item:hover {
  background-color: lightgrey;
  color: black;
}

.search-result.doc-title {
  weight: bold;
  color: black;
  position: relative;
  left: 5%;
}

.search-result.search-result-title {
}

.search-result-highlight {
  color: black;
  background-color: yellow;
}

{% if darkmode %}
.activepage {
  background-color: rgba(33,150,243,0.5);
}
{% else %}
.activepage {
  background-color: rgba(33,150,243,0.1);
}
{% endif %}

</style>

<body>

<div class="w3-container">
  <div class="w3-row w3-black">
    <div class="w3-quarter">
      <a href="/"><img src="/{{ logo_filename }}"></a>
    </div>
    <div class="w3-half">
      <h2 style="margin-top:25px">Documentation Portal</h2>
    </div>
    <div class="w3-quarter">
      <p>Welcome, {{ user.get_username }} <a href="{% url 'logout' %}">Sign Out</a></p>
      <p>
      {% if user.is_superuser %}
      <a href="/admin">Admin panel</a>
      {% endif %} 
      {% if darkmode %}
      <a href="/rmdarkmode">Light mode</a></p>
      {% else %}
      <a href="/setdarkmode">Dark mode</a></p>
      {% endif %}
    </div>
  </div>
  <div class="w3-row">
    <div class="w3-bar w3-blue">
      <a href="#home" class="w3-bar-item w3-button w3-white">Home</a>
      {% for tab_id, tab_name in tab_list %}
          <a href="/zip/{{ tab_id }}/latest/index.html" class="w3-bar-item w3-button">{{ tab_name }}</a>
      {% endfor %}
      <div class="searchbar">
        <input type="text" id="search-input" class="search-input" placeholder="Search all docs...">
        <img src={% static 'oxford2/search.png' %}>
      </div>
      <div id="search-results" class="search-results"></div>
    </div>
  </div>
  {% if darkmode %}
  <div class="w3-row w3-black">
  {% else %}
  <div class="w3-row w3-white">
  {% endif %}
    <div class="w3-quarter">
      <p></p>
      {{ nav_content | safe }}
    </div>
    <div class="w3-half">
      <div class="w3-row">
        {{ page_content|safe }}
      </div>
    </div>
    <div class="w3-quarter w3-white">
    </div>
  </div>
  <div class="w3-row w3-black">
    <h4>&nbsp; {{ footer_text|safe }}</h4>
  </div>
</div>
<script>
var toggler = document.getElementsByClassName("caret");
var i;
for (i = 0; i < toggler.length; i++) {
  toggler[i].addEventListener("click", function() {
    this.parentElement.querySelector(".nested").classList.toggle("active");
    this.classList.toggle("caret-down");
  });
}

window.addEventListener('DOMContentLoaded', () => {
    var siteloadbtn = document.getElementById("allservices");
    siteloadbtn.click()
    var siteloadbtn2 = document.getElementById("allcategories");
    siteloadbtn2.click()
});

{{ click_list | safe }}
</script>
<script type="text/javascript" src="/static/oxford2/lunr.min.js"></script>
<script type="text/javascript" src="/static/oxford2/just-the-docs.js"></script>
</body>
